!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=9)}([function(t,e,n){"use strict";var i=n(5),r=n(2),o=n(8);var a=Object(o.a)(r.default,i.b,i.c,!1,null,null,"7e2884a1",!1,i.a,void 0);(function(t){this.options.style||(this.options.style={}),Vue.prototype.__merge_style&&Vue.prototype.__$appStyle__&&Vue.prototype.__merge_style(Vue.prototype.__$appStyle__,this.options.style),Vue.prototype.__merge_style?Vue.prototype.__merge_style(n(7).default,this.options.style):Object.assign(this.options.style,n(7).default)}).call(a),e.default=a.exports},function(t,e){t.exports={"uni-icon":{fontFamily:"uniicons",fontWeight:"normal"},"uni-bg-red":{backgroundColor:"#F76260",color:"#FFFFFF"},"uni-bg-green":{backgroundColor:"#09BB07",color:"#FFFFFF"},"uni-bg-blue":{backgroundColor:"#007AFF",color:"#FFFFFF"},"uni-container":{flex:1,paddingTop:"15",paddingRight:"15",paddingBottom:"15",paddingLeft:"15",backgroundColor:"#f8f8f8"},"uni-padding-lr":{paddingLeft:"15",paddingRight:"15"},"uni-padding-tb":{paddingTop:"15",paddingBottom:"15"},"uni-header-logo":{paddingTop:"15",paddingRight:"15",paddingBottom:"15",paddingLeft:"15",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"10upx"},"uni-header-image":{width:"80",height:"80"},"uni-hello-text":{marginBottom:"20"},"hello-text":{color:"#7A7E83",fontSize:"14",lineHeight:"20"},"hello-link":{color:"#7A7E83",fontSize:"14",lineHeight:"20"},"uni-panel":{marginBottom:"12"},"uni-panel-h":{backgroundColor:"#ffffff",flexDirection:"row",alignItems:"center",paddingTop:"12",paddingRight:"12",paddingBottom:"12",paddingLeft:"12"},"uni-panel-h-on":{backgroundColor:"#f0f0f0"},"uni-panel-text":{flex:1,color:"#000000",fontSize:"14",fontWeight:"normal"},"uni-panel-icon":{marginLeft:"15",color:"#999999",fontSize:"14",fontWeight:"normal",transform:"rotate(0deg)",transitionDuration:0,transitionProperty:"transform"},"uni-panel-icon-on":{transform:"rotate(180deg)"},"uni-navigate-item":{flexDirection:"row",alignItems:"center",backgroundColor:"#FFFFFF",borderTopStyle:"solid",borderTopColor:"#f0f0f0",borderTopWidth:"1",paddingTop:"12",paddingRight:"12",paddingBottom:"12",paddingLeft:"12","backgroundColor:active":"#f8f8f8"},"uni-navigate-text":{flex:1,color:"#000000",fontSize:"14",fontWeight:"normal"},"uni-navigate-icon":{marginLeft:"15",color:"#999999",fontSize:"14",fontWeight:"normal"},"uni-list-cell":{position:"relative",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},"uni-list-cell-pd":{paddingTop:"22upx",paddingRight:"30upx",paddingBottom:"22upx",paddingLeft:"30upx"},"flex-r":{flexDirection:"row"},"flex-c":{flexDirection:"column"},"a-i-c":{alignItems:"center"},"j-c-c":{justifyContent:"center"},"list-item":{flexDirection:"row",paddingTop:"10",paddingRight:"10",paddingBottom:"10",paddingLeft:"10"},"@VERSION":2}},function(t,e,n){"use strict";var i=n(3),r=n.n(i);e.default=r.a},function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=n(18))&&r.__esModule?r:{default:r};function a(t,e,n,i,r,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,r)}var s=t("sintrb-uvcmodule"),u={data:function(){return{show:!0,previewSizeI:-1,previewSizeList:[],rotation:0,logs:[],images:[]}},computed:{},watch:{previewSizeI:function(){this.addLog("previewSizeI "+this.previewSizeI),this.doIVAction("setPreviewSize",{index:this.previewSizeI})}},onLoad:function(){s?(this.addLog("\u63d2\u5165UVC\u6444\u50cf\u5934\uff0c\u70b9\u51fb\u5f00\u59cb\u540e\u4f1a\u81ea\u52a8\u83b7\u53d6\u6388\u6743\u786e\u8ba4\uff0c\u540c\u610f\u540e\u4f1a\u81ea\u52a8\u64ad\u653e\uff0c\u5982\u679c\u63d0\u793a\u6ca1\u627e\u5230\u6444\u50cf\u5934\uff0c\u53ef\u80fd\u662f\u4f60\u7684\u6444\u50cf\u5934\u4e0d\u662fUVC\u7684\u6444\u50cf\u5934\u3002"),this.addLog("\u5982\u679c\u70b9\u51fb\u201cUSB\u8bbe\u5907\u5217\u8868\u201d\u548c\u201cUVC\u8bbe\u5907\u5217\u8868\u201d\u90fd\u4e0d\u4f1a\u663e\u793a\u8bbe\u5907\u4fe1\u606f\uff0c\u90a3\u4e48\u53ef\u80fd\u662f\u4f60\u7684\u8fde\u63a5\u7ebf\u6709\u95ee\u9898"),this.addLog("\u5982\u679c\u70b9\u51fb\u201cUSB\u8bbe\u5907\u5217\u8868\u201d\u80fd\u591f\u770b\u5230\u8bbe\u5907\u4fe1\u606f\u800c\u70b9\u51fb\u201cUVC\u8bbe\u5907\u5217\u8868\u201d\u770b\u4e0d\u5230\uff0c\u90a3\u4f60\u7684\u8bbe\u5907\u53ef\u80fd\u4e0d\u662fUVC\u8bbe\u5907\uff08DeviceClass=239\uff0cDeviceSubclass=2\uff09")):this.addLog("\u83b7\u53d6\u63d2\u4ef6\u5931\u8d25\uff0c\u8bf7\u786e\u4fdd\u8be5Demo\u662f\u5728\u81ea\u5b9a\u4e49\u57fa\u5ea7\u4e0a\u8fd0\u884c\uff01")},methods:{getUsbDevices:function(){var t=this;s.getUsbDevices({},(function(e){i("log",JSON.stringify(e)," at pages/index/index.nvue:81"),t.addLog(e)}))},getUvcDevices:function(){var t=this;s.getUvcDevices({},(function(e){e.data.devices.map((function(t){JSON.parse(JSON.stringify(t));return t.showJson=!1,t.showPreview=!1,t})),i("log",JSON.stringify(e)," at pages/index/index.nvue:94"),t.devices=e.data.devices,t.addLog(e)}))},getSupportedPreviewSizes:function(){var t=this;this.doIVAction("getSupportedPreviewSizes",null,(function(e){e&&e.data&&(t.previewSizeList=e.data.items)}))},getSnap:function(){var t=this;this.doIVAction("snap",{},(function(e){t.addLog(e),e&&e.data&&t.addImg(e.data.path)}))},doIVAction:function(t,e,n){var i,r=this;return(i=o.default.mark((function i(){var a,s,u;return o.default.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=r.$refs.iv){i.next=4;break}return r.res="\u6ca1\u6709iv "+Object.keys(r.$refs).join(","),i.abrupt("return");case 4:if(s=a[t]){i.next=8;break}return r.addLog("\u6ca1\u6709iv."+t+" "+Object.keys(a).join(",")),i.abrupt("return");case 8:u=[],e&&u.push(e),u.push((function(t){r.addLog(t),n&&n(t)})),r.res=u;try{s.apply(a,u)}catch(t){r.addLog("ERR "+t)}case 13:case"end":return i.stop()}}),i)})),function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function s(t){a(o,n,r,s,u,"next",t)}function u(t){a(o,n,r,s,u,"throw",t)}s(void 0)}))})()},onStatusChange:function(t){this.addLog(t.detail),5100!==t.detail.status||this.previewSizeList.length||this.getSupportedPreviewSizes()},addLog:function(t){"string"!=typeof t&&(t=JSON.stringify(t)),this.logs.unshift(t)},viewImg:function(t,e){uni.previewImage({urls:this.images.map((function(t){return t.src})),index:e})},addImg:function(t){this.images.splice(0,0,{src:t,key:Date.now()}),this.addLog(t)}}};e.default=u}).call(this,n(16).default,n(17).default)},function(t,e){t.exports={"mini-btn":{paddingTop:"5rpx",paddingRight:"5rpx",paddingBottom:"5rpx",paddingLeft:"5rpx"},btns:{display:"flex",flexDirection:"row",flexWrap:"wrap"},button:{paddingTop:"2",paddingRight:"1",paddingBottom:"2",paddingLeft:"1",marginRight:"1"},previews:{display:"flex",flexDirection:"row",flexWrap:"wrap",alignItems:"center",justifyContent:"center",marginBottom:"10"},"preview-wrap":{backgroundColor:"#000000",marginTop:"2",marginRight:"2",marginBottom:"2",marginLeft:"2",minWidth:"320",minHeight:"240"},preview:{width:"400",height:"300"},selected:{backgroundColor:"#FF0000"},"@VERSION":2}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("scroll-view",{staticStyle:{flexDirection:"column"},attrs:{scrollY:!0,showScrollbar:!0,enableBackToTop:!0,bubble:"true"}},[n("view",{staticStyle:{display:"flex",flexDirection:"column",fontSize:"12px"}},[t.show?n("view",{staticClass:["previews"]},[n("view",{staticClass:["preview-wrap"]},[n("sintrb-uvcviewer",{ref:"iv",staticClass:["preview"],attrs:{rotation:t.rotation},on:{onStatusChange:t.onStatusChange}})],1)]):t._e(),t.previewSizeList.length?n("view",{staticStyle:{display:"flex",flexDirection:"row",flexWrap:"wrap"}},t._l(t.previewSizeList,(function(e,i){return n("view",{class:{selected:t.previewSizeI===i},staticStyle:{border:"2rpx solid #eee",padding:"5rpx"},on:{click:function(e){t.previewSizeI=i}}},[n("u-text",[t._v(t._s(e.width)+"x"+t._s(e.height))])])})),0):t._e(),n("view",{staticClass:["btns"]},[n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.show=!t.show}}},[t._v(t._s(t.show?"\u5173\u95ed":"\u663e\u793a"))]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.doIVAction("test")}}},[t._v("\u6d4b\u8bd5")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.doIVAction("start")}}},[t._v("\u5f00\u59cb")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.doIVAction("stop")}}},[t._v("\u505c\u6b62")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.getSnap()}}},[t._v("\u622a\u56fe")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.rotation=(t.rotation+90)%360}}},[t._v("\u65cb\u8f6c")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.getSupportedPreviewSizes()}}},[t._v("\u652f\u6301\u7684\u5c3a\u5bf8")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.getUsbDevices()}}},[t._v("USB\u8bbe\u5907\u5217\u8868")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.getUvcDevices()}}},[t._v("UVC\u8bbe\u5907\u5217\u8868")]),n("button",{staticClass:["button"],attrs:{size:"mini",type:"default"},on:{click:function(e){t.logs=[],t.images=[]}}},[t._v("\u6e05\u7a7a")])],1),t.images.length?n("scroll-view",{staticStyle:{flexDirection:"row",marginTop:"5px"},attrs:{scrollX:"true"}},[n("view",{staticStyle:{display:"flex",flexDirection:"row"}},t._l(t.images,(function(e,i){return n("u-image",{key:e.key,staticStyle:{maxWidth:"60px",height:"60px",border:"1px solid red",marginRight:"1px"},attrs:{src:e.src,mode:"heightFix"},on:{click:function(n){t.viewImg(e,i)}}})})),1)]):t._e(),n("scroll-view",{staticClass:["logs"],staticStyle:{flexDirection:"column",marginTop:"5px"},attrs:{scrollY:"true"}},[n("view",{staticStyle:{display:"flex",flexDirection:"column"}},t._l(t.logs,(function(e){return n("view",{staticStyle:{marginTop:"1rpx",fontSize:"8px",width:"auto",border:"1rpx solid #EEEEEE",padding:"10rpx"}},[n("u-text",{appendAsTree:!0,attrs:{append:"tree"}},[t._v(t._s(e))])])})),0)])],1)])},r=[]},function(t,e,n){"use strict";n.r(e),e.default={appid:"__UNI__B1B6375"}},function(t,e,n){"use strict";n.r(e);var i=n(4),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s,u,c){var l,p="function"==typeof t?t.options:t;if(u){p.components||(p.components={});var f=Object.prototype.hasOwnProperty;for(var d in u)f.call(u,d)&&!f.call(p.components,d)&&(p.components[d]=u[d])}if(c&&((c.beforeCreate||(c.beforeCreate=[])).unshift((function(){this[c.__module]=this})),(p.mixins||(p.mixins=[])).push(c)),e&&(p.render=e,p.staticRenderFns=n,p._compiled=!0),i&&(p.functional=!0),o&&(p._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},p._ssrRegister=l):r&&(l=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(p.functional){p._injectStyles=l;var h=p.render;p.render=function(t,e){return l.call(e),h(t,e)}}else{var g=p.beforeCreate;p.beforeCreate=g?[].concat(g,l):[l]}return{exports:t,options:p}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.r(e);n(10),n(13),n(15);var i=n(0);i.default.mpType="page",i.default.route="pages/index/index",i.default.el="#root",new Vue(i.default)},function(t,e,n){function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=a(t);if(e){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p,f=uni.getSystemInfoSync(),d="https://tongji.dcloud.io/uni/stat",h={};p=n(6).default||n(6);var g=n(11).default.pages;for(var v in g){var y,_=g[v],m=_.navigationBarTitleText||_.defaultTitle||(null===(y=_.navigationBar)||void 0===y?void 0:y.titleText)||"";m&&(h[v]=m)}var S,w,b=p,T=function(){var t,e=(l(t={app:"n","app-plus":"n",h5:"h5","mp-weixin":"wx"},["y","a","p","mp-ali"].reverse().join(""),"ali"),l(t,"mp-baidu","bd"),l(t,"mp-toutiao","tt"),l(t,"mp-qq","qq"),l(t,"quickapp-native","qn"),l(t,"mp-kuaishou","ks"),l(t,"mp-lark","lark"),l(t,"quickapp-webview","qw"),t);if("ali"===e["app-plus"]&&my&&my.env){var n=my.env.clientName;if("ap"===n)return"ali";if("dingtalk"===n)return"dt"}return e["app-plus"]},x=function(t){var e=T(),n="";return t||("wx"===e&&(n=uni.getLaunchOptionsSync().scene),n)},D=function(t){var e=t||A();if("bd"===T()){var n=e.$mp&&e.$mp.page&&e.$mp.page.is,i=e.$scope&&e.$scope.is;return n||i||""}return e.route||e.$scope&&e.$scope.route||e.$mp&&e.$mp.page.route},k=function(t){var e=t.$page||t.$scope&&t.$scope.$page,n=uni.getStorageSync("_STAT_LAST_PAGE_ROUTE");return e?"/"===e.fullPath?e.route:e.fullPath||e.route:n||""},A=function(){var t=getCurrentPages(),e=t[t.length-1];return e?e.$vm:null},I=function(t){return"page"===t.mpType||"page"===t.$mpType||t.$mp&&"page"===t.$mp.mpType||"page"===t.$options.mpType?"page":"app"===t.mpType||"app"===t.$mpType||t.$mp&&"app"===t.$mp.mpType||"app"===t.$options.mpType?"app":null},L=function(t){return h&&h[t]||""},O=function(t){var e={usv:"0.0.1",conf:JSON.stringify({ak:"__UNI__B1B6375"})};uni.request({url:d,method:"GET",data:e,success:function(e){var n=e.data;0===n.ret&&"function"==typeof t&&t({enable:n.enable})},fail:function(e){var n=1;try{n=uni.getStorageSync("Report_Status")}catch(e){n=1}""===n&&(n=1),"function"==typeof t&&t({enable:n})}})},R=uni.getStorageSync("$$STAT__DBDATA")||{},E=function(t,e){R||(R={}),R[t]=e,uni.setStorageSync("$$STAT__DBDATA",R)},C=function(t){if(!R[t]){var e=uni.getStorageSync("$$STAT__DBDATA");if(e||(e={}),!e[t])return;R[t]=e[t]}return R[t]},j=function(t){(R[t]||(R=uni.getStorageSync("$$STAT__DBDATA"))[t])&&(delete R[t],uni.setStorageSync("$$STAT__DBDATA",R))},P=function(){return parseInt((new Date).getTime()/1e3)},U=function(){var t=C("__last__visit__time"),e=0;return t&&(e=t),E("__last__visit__time",P()),e},B=0,N=0,q=function(){return B=P(),E("__page__residence__time",B),B},$=function(){var t=C("__total__visit__count"),e=1;return t&&(e=t,e++),E("__total__visit__count",e),e},F=0,z=0,V=function(){var t=(new Date).getTime();return F=t,z=0,t},M=function(){var t=(new Date).getTime();return z=t,t},G=function(t){var e=0;return 0!==F&&(e=z-F),e=(e=parseInt(e/1e3))<1?1:e,"app"===t?{residenceTime:e,overtime:e>300}:"page"===t?{residenceTime:e,overtime:e>1800}:{residenceTime:e}},H={uuid:f.deviceId||function(){var t="";if("n"===T()){try{t=plus.runtime.getDCloudId()}catch(e){t=""}return t}try{t=uni.getStorageSync("__DC_STAT_UUID")}catch(e){t="__DC_UUID_VALUE"}if(!t){t=Date.now()+""+Math.floor(1e7*Math.random());try{uni.setStorageSync("__DC_STAT_UUID",t)}catch(t){uni.setStorageSync("__DC_STAT_UUID","__DC_UUID_VALUE")}}return t}(),ut:T(),mpn:(w="","wx"!==T()&&"qq"!==T()||uni.canIUse("getAccountInfoSync")&&(w=uni.getAccountInfoSync().miniProgram.appId||""),T(),w),ak:b.appid,usv:"0.0.1",v:"n"===T()?plus.runtime.version:"",ch:(S="","n"===T()&&(S=plus.runtime.channel),S),cn:"",pn:"",ct:"",t:P(),tt:"",p:"android"===f.platform?"a":"i",brand:f.brand||"",md:f.model,sv:f.system.replace(/(Android|iOS)\s/,""),mpsdk:f.SDKVersion||"",mpv:f.version||"",lang:f.language,pr:f.pixelRatio,ww:f.windowWidth,wh:f.windowHeight,sw:f.screenWidth,sh:f.screenHeight},J=function(t){"use strict";!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(n,t);var e=r(n);function n(){return s(this,n),e.call(this)}return c(n,null,[{key:"getInstance",value:function(){return uni.__stat_instance||(uni.__stat_instance=new n),uni.__stat_instance}}]),c(n,[{key:"launch",value:function(t,e){q(),this.__licationShow=!0,this.sendReportRequest(t,!0)}},{key:"load",value:function(t,e){this.self=e,this._query=t}},{key:"appHide",value:function(t){this.applicationHide(t,!0)}},{key:"appShow",value:function(t){this.applicationShow(t)}},{key:"show",value:function(t){this.self=t,"page"===I(t)&&this.pageShow(t),"app"===I(t)&&this.appShow()}},{key:"hide",value:function(t){this.self=t,"page"===I(t)&&this.pageHide(t),"app"===I(t)&&this.appHide()}},{key:"error",value:function(t){this._platform;var e="";e=t.message?t.stack:JSON.stringify(t);var n={ak:this.statData.ak,uuid:this.statData.uuid,lt:"31",ut:this.statData.ut,ch:this.statData.ch,mpsdk:this.statData.mpsdk,mpv:this.statData.mpv,v:this.statData.v,em:e,usv:this.statData.usv,t:parseInt((new Date).getTime()/1e3),p:this.statData.p};this.request(n)}}]),n}(function(){"use strict";function t(){s(this,t),this.self="",this.__licationShow=!1,this.__licationHide=!1,this.statData=H,this._navigationBarTitle={config:"",page:"",report:"",lt:""},this._query={},"function"==typeof uni.addInterceptor&&(this.addInterceptorInit(),this.interceptLogin(),this.interceptShare(!0),this.interceptRequestPayment())}return c(t,[{key:"addInterceptorInit",value:function(){var t=this;uni.addInterceptor("setNavigationBarTitle",{invoke:function(e){t._navigationBarTitle.page=e.title}})}},{key:"interceptLogin",value:function(){var t=this;uni.addInterceptor("login",{complete:function(){t._login()}})}},{key:"interceptShare",value:function(t){var e=this;t?uni.addInterceptor("share",{success:function(){e._share()},fail:function(){e._share()}}):e._share()}},{key:"interceptRequestPayment",value:function(){var t=this;uni.addInterceptor("requestPayment",{success:function(){t._payment("pay_success")},fail:function(){t._payment("pay_fail")}})}},{key:"_login",value:function(){this.sendEventRequest({key:"login"},0)}},{key:"_share",value:function(){this.sendEventRequest({key:"share"},0)}},{key:"_payment",value:function(t){this.sendEventRequest({key:t},0)}},{key:"applicationShow",value:function(){if(this.__licationHide){if(M(),G("app").overtime){var t={path:uni.getStorageSync("_STAT_LAST_PAGE_ROUTE"),scene:this.statData.sc};this.sendReportRequest(t)}this.__licationHide=!1}}},{key:"applicationHide",value:function(t,e){t||(t=A()),this.__licationHide=!0,M();var n=G(),i=k(t);uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",i),this.sendHideRequest({urlref:i,urlref_ts:n.residenceTime},e),V()}},{key:"pageShow",value:function(t){this._navigationBarTitle={config:"",page:"",report:"",lt:""};var e=k(t),n=D(t);if(this._navigationBarTitle.config=L(n),this.__licationShow)return V(),uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",e),void(this.__licationShow=!1);if(M(),G("page").overtime){var i={path:e,scene:this.statData.sc};this.sendReportRequest(i)}V()}},{key:"pageHide",value:function(t){if(!this.__licationHide){M();var e=G("page"),n=k(t),i=uni.getStorageSync("_STAT_LAST_PAGE_ROUTE");return i||(i=n),uni.setStorageSync("_STAT_LAST_PAGE_ROUTE",n),void this.sendPageRequest({url:n,urlref:i,urlref_ts:e.residenceTime})}}},{key:"sendReportRequest",value:function(t){this._navigationBarTitle.lt="1",this._navigationBarTitle.config=L(t.path);var e,n,i=t.query&&"{}"!==JSON.stringify(t.query)?"?"+JSON.stringify(t.query):"";Object.assign(this.statData,{lt:"1",url:t.path+i||"",t:P(),sc:x(t.scene),fvts:(e=C("__first__visit__time"),n=0,e?n=e:(n=P(),E("__first__visit__time",n),j("__last__visit__time")),n),lvts:U(),tvc:$()}),"n"===T()?this.getProperty():this.getNetworkInfo()}},{key:"sendPageRequest",value:function(t){var e=t.url,n=t.urlref,i=t.urlref_ts;this._navigationBarTitle.lt="11";var r={ak:this.statData.ak,uuid:this.statData.uuid,lt:"11",ut:this.statData.ut,url:e,tt:this.statData.tt,urlref:n,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:P(),p:this.statData.p};this.request(r)}},{key:"sendHideRequest",value:function(t,e){var n=t.urlref,i=t.urlref_ts,r={ak:this.statData.ak,uuid:this.statData.uuid,lt:"3",ut:this.statData.ut,urlref:n,urlref_ts:i,ch:this.statData.ch,usv:this.statData.usv,t:P(),p:this.statData.p};this.request(r,e)}},{key:"sendEventRequest",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.key,n=void 0===e?"":e,i=t.value,r=void 0===i?"":i,o=D();this._navigationBarTitle.config=L(o),this._navigationBarTitle.lt="21";var a={ak:this.statData.ak,uuid:this.statData.uuid,lt:"21",ut:this.statData.ut,url:o,ch:this.statData.ch,e_n:n,e_v:"object"==typeof r?JSON.stringify(r):r.toString(),usv:this.statData.usv,t:P(),p:this.statData.p};this.request(a)}},{key:"getProperty",value:function(){var t=this;plus.runtime.getProperty(plus.runtime.appid,(function(e){t.statData.v=e.version||"",t.getNetworkInfo()}))}},{key:"getNetworkInfo",value:function(){var t=this;uni.getNetworkType({success:function(e){t.statData.net=e.networkType,t.getLocation()}})}},{key:"getLocation",value:function(){var t=this;b.getLocation?uni.getLocation({type:"wgs84",geocode:!0,success:function(e){e.address&&(t.statData.cn=e.address.country,t.statData.pn=e.address.province,t.statData.ct=e.address.city),t.statData.lat=e.latitude,t.statData.lng=e.longitude,t.request(t.statData)}}):(this.statData.lat=0,this.statData.lng=0,this.request(this.statData))}},{key:"request",value:function(t,e){var n=this,i=P(),r=this._navigationBarTitle;Object.assign(t,{ttn:r.page,ttpj:r.config,ttc:r.report});var o=C("__UNI__STAT__DATA")||{};if(o[t.lt]||(o[t.lt]=[]),o[t.lt].push(t),E("__UNI__STAT__DATA",o),!((N=P(),B=C("__page__residence__time"),N-B)<10)||e){q();var a={usv:"0.0.1",t:i,requests:function(t){var e=[],n=[],i=[],r=function(r){t[r].forEach((function(t){var o=function(t){var e="";for(var n in t)e+=n+"="+t[n]+"&";return e.substr(0,e.length-1)}(t);0===r?e.push(o):3===r?i.push(o):n.push(o)}))};for(var o in t)r(o);return e.push.apply(e,n.concat(i)),JSON.stringify(e)}(o)};j("__UNI__STAT__DATA"),"h5"!==t.ut?"n"!==T()||"a"!==this.statData.p?this.sendRequest(a):setTimeout((function(){n.sendRequest(a)}),200):this.imageRequest(a)}}},{key:"getIsReportData",value:function(){return new Promise((function(t,e){var n="",i=(new Date).getTime(),r=1;try{n=uni.getStorageSync("Report_Data_Time"),r=uni.getStorageSync("Report_Status")}catch(t){n="",r=1}""!==r?(1===r&&t(),n||(uni.setStorageSync("Report_Data_Time",i),n=i),i-n>864e5&&O((function(t){var e=t.enable;uni.setStorageSync("Report_Data_Time",i),uni.setStorageSync("Report_Status",e)}))):O((function(e){var n=e.enable;uni.setStorageSync("Report_Data_Time",i),uni.setStorageSync("Report_Status",n),1===n&&t()}))}))}},{key:"sendRequest",value:function(t){var e=this;this.getIsReportData().then((function(){uni.request({url:d,method:"POST",data:t,success:function(){},fail:function(n){++e._retry<3&&setTimeout((function(){e.sendRequest(t)}),1e3)}})}))}},{key:"imageRequest",value:function(t){this.getIsReportData().then((function(){var e=new Image,n=function(t){var e=Object.keys(t).sort(),n={},i="";for(var r in e)n[e[r]]=t[e[r]],i+=e[r]+"="+t[e[r]]+"&";return{sign:"",options:i.substr(0,i.length-1)}}(function(t){var e={};for(var n in t)e[n]=encodeURIComponent(t[n]);return e}(t)).options;e.src="https://tongji.dcloud.io/uni/stat.gif?"+n}))}},{key:"sendEvent",value:function(t,e){var n,i;(i=e,(n=t)?"string"!=typeof n?(console.error("uni.report [eventName] Parameter type error, it can only be of type String"),1):n.length>255?(console.error("uni.report [eventName] Parameter length cannot be greater than 255"),1):"string"!=typeof i&&"object"!=typeof i?(console.error("uni.report [options] Parameter type error, Only supports String or Object type"),1):"string"==typeof i&&i.length>255?(console.error("uni.report [options] Parameter length cannot be greater than 255"),1):"title"===n&&"string"!=typeof i?(console.error("uni.report [eventName] When the parameter is title, the [options] parameter can only be of type String"),1):void 0:(console.error("uni.report Missing [eventName] parameter"),1))||("title"!==t?this.sendEventRequest({key:t,value:"object"==typeof e?JSON.stringify(e):e},1):this._navigationBarTitle.report=e)}}]),t}()).getInstance(),W=!1,Y={onLaunch:function(t){J.launch(t,this)},onLoad:function(t){if(J.load(t,this),this.$scope&&this.$scope.onShareAppMessage){var e=this.$scope.onShareAppMessage;this.$scope.onShareAppMessage=function(t){return J.interceptShare(!1),e.call(this,t)}}},onShow:function(){W=!1,J.show(this)},onHide:function(){W=!0,J.hide(this)},onUnload:function(){W?W=!1:J.hide(this)},onError:function(t){J.error(t)}};!function(){console.log("uni\u7edf\u8ba1\u5f00\u542f,version:1");var t=n(12);(t.default||t).mixin(Y),uni.report=function(t,e){J.sendEvent(t,e)}}()},function(t,e,n){"use strict";n.r(e),e.default={pages:{},globalStyle:{}}},function(t,e){t.exports=Vue},function(t,e,n){Vue.prototype.__$appStyle__={},Vue.prototype.__merge_style&&Vue.prototype.__merge_style(n(14).default,Vue.prototype.__$appStyle__)},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=r.a},function(t,e){if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){var n=uni.requireGlobal();ArrayBuffer=n.ArrayBuffer,Int8Array=n.Int8Array,Uint8Array=n.Uint8Array,Uint8ClampedArray=n.Uint8ClampedArray,Int16Array=n.Int16Array,Uint16Array=n.Uint16Array,Int32Array=n.Int32Array,Uint32Array=n.Uint32Array,Float32Array=n.Float32Array,Float64Array=n.Float64Array,BigInt64Array=n.BigInt64Array,BigUint64Array=n.BigUint64Array}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return weex.requireModule(t)}},function(t,e,n){"use strict";function i(t){var e=Object.prototype.toString.call(t);return e.substring(8,e.length-1)}function r(){return"string"==typeof __channelId__&&__channelId__}function o(t,e){switch(i(e)){case"Function":return"function() { [native code] }";default:return e}}Object.defineProperty(e,"__esModule",{value:!0}),e.log=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];console[t].apply(console,n)},e.default=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e.shift();if(r())return e.push(e.pop().replace("at ","uni-app:///")),console[a].apply(console,e);var s=e.map((function(t){var e=Object.prototype.toString.call(t).toLowerCase();if("[object object]"===e||"[object array]"===e)try{t="---BEGIN:JSON---"+JSON.stringify(t,o)+"---END:JSON---"}catch(n){t=e}else if(null===t)t="---NULL---";else if(void 0===t)t="---UNDEFINED---";else{var n=i(t).toUpperCase();t="NUMBER"===n||"BOOLEAN"===n?"---BEGIN:"+n+"---"+t+"---END:"+n+"---":String(t)}return t})),u="";if(s.length>1){var c=s.pop();u=s.join("---COMMA---"),0===c.indexOf(" at ")?u+=c:u+="---COMMA---"+c}else u=s[0];console[a](u)}},function(t,e,n){t.exports=n(19)},function(t,e,n){var i=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var r=e&&e.prototype instanceof p?e:p,o=Object.create(r.prototype),a=new T(i||[]);return o._invoke=function(t,e,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return D()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var u=c(t,e,n);if("normal"===u.type){if(i=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),o}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function p(){}function f(){}function d(){}var h={};h[r]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,r)&&(h=v);var y=d.prototype=p.prototype=Object.create(h);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var i;this._invoke=function(r,o){function a(){return new e((function(i,a){!function i(r,o,a,s){var u=c(t[r],t,o);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return i("throw",t,a,s)}))}s(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var i=c(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,l;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function x(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:D}}function D(){return{value:void 0,done:!0}}return f.prototype=y.constructor=d,d.constructor=f,f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},_(m.prototype),m.prototype[o]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new m(u(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(y),s(y,a,"Generator"),y[r]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=x,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;b(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=i}catch(t){Function("r","regeneratorRuntime = r")(i)}}]);